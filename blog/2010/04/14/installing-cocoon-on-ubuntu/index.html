
<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang='en-US' class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html -->
<title>Installing Cocoon on Ubuntu - Quinn Dombrowski</title>
<meta name="description" content="10/11/10 -- This guide was written for Intrepid, and doesn&#39;t work on the latest Ubuntu releases. An updated and working version of the guide is available here. This guide was prepared with help from a guide written on the GSLIS wiki by Wendell Piez...">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Quinn Dombrowski">
<meta property="og:title" content="Installing Cocoon on Ubuntu">
<meta property="og:url" content="https://www.quinndombrowski.com/blog/2010/04/14/installing-cocoon-on-ubuntu/">


  <meta property="og:description" content="10/11/10 -- This guide was written for Intrepid, and doesn&#39;t work on the latest Ubuntu releases. An updated and working version of the guide is available here. This guide was prepared with help from a guide written on the GSLIS wiki by Wendell Piez...">



  <meta property="og:image" content="https://www.quinndombrowski.com">





  <meta property="article:published_time" content="2010-04-14T00:00:00+00:00">






<link rel="canonical" href="https://www.quinndombrowski.com/blog/2010/04/14/installing-cocoon-on-ubuntu/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Quinn Dombrowski",
      "url": "https://www.quinndombrowski.com/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Quinn Dombrowski Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/styles/minimal-mistakes.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Quinn Dombrowski
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/cv/">CV</a>
            </li><li class="masthead__menu-item">
              <a href="/projects/">Projects</a>
            </li><li class="masthead__menu-item">
              <a href="/blog/">Blog</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      




<div id="main" role="main">
  


  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    <meta itemprop="datePublished" content="2010-04-14T00:00:00+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="https://www.quinndombrowski.com/blog/2010/04/14/installing-cocoon-on-ubuntu/" class="u-url" itemprop="url">Installing Cocoon on Ubuntu</a>
          </h1>
          


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        <p>&lt;p&gt;&lt;strong&gt;10/11/10 -- This guide was written for Intrepid, and doesn't work on the latest Ubuntu releases. An updated and working version of the guide is &lt;a href=&quot;/blog/2010/12/10/installing-cocoon-on-ubuntu-10-04-or-10-10&quot;&gt;available here&lt;/a&gt;.&lt;/strong&gt;&lt;br /&gt;
This guide was prepared with help from a guide written on the GSLIS wiki by &lt;a href=&quot;http://piez.org/wendell/&quot;&gt;Wendell Piez&lt;/a&gt;. If you try it and something doesn't work, please e-mail me (quinnd -at- uchicago +dot+ edu). This document is licensed &lt;a href=&quot;http://creativecommons.org/licenses/by/3.0/us/&quot;&gt;Creative Commons Attribution&lt;/a&gt;.&lt;br /&gt;
No knowledge of Ubuntu or Unix is assumed; the intended audience is someone who's managed to install Ubuntu and isn't too intimidated by the Terminal.&lt;/p&gt;
&lt;p&gt;                Step 1: Installing Java SDK&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Open the Terminal (Applications &gt; Accessories &gt; Terminal)&lt;/li&gt;
&lt;li&gt;Type: sudo apt-get install sun-java6-jdk&lt;br /&gt;
&lt;em&gt;(Hint: You can copy and paste, but in Terminal, pasting is Ctrl + &lt;strong&gt;Shift&lt;/strong&gt; +C)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;There'll be some downloading, you'll have to scroll through a long TOS and agree to it, but then it will install on its own.&lt;/li&gt;
&lt;li&gt;Close Terminal.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;               Step 2: Installing Maven&lt;br /&gt;
Derived from &lt;a href=&quot;http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html&quot;&gt;Maven in Five Minutes&lt;/a&gt;.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://maven.apache.org/download.html&quot;&gt;Download Maven&lt;/a&gt; (choose tar.bz2)&lt;/li&gt;
&lt;li&gt;Open the tar.bz file; by default, it probably saved to the Desktop&lt;/li&gt;
&lt;li&gt;Extract it to the Desktop&lt;/li&gt;
&lt;li&gt;Open the Terminal again and type: cd /usr/local
&lt;p&gt;sudo mkdir apache-mavenAt this point, the Terminal will ask you for your sudo password. It's the same as the password you use to log in to Ubuntu. Then:&lt;br /&gt;
cd /home/YOUR_USER_NAME/Desktop (be sure to replace YOUR_USER_NAME with your user name)&lt;/p&gt;
&lt;p&gt;sudo mv apache-maven-2.0.9 /usr/local/apache-maven&lt;/p&gt;
&lt;p&gt;export M2_HOME=/usr/local/apache-maven/apache-maven-2.0.9&lt;/p&gt;
&lt;p&gt;export PATH=$M2:$PATH
&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Cross you fingers and type:&lt;br /&gt;
mvn --version&lt;/li&gt;
&lt;li&gt;If everything worked right, it should display information about the version of Maven you have installed.&lt;/li&gt;
&lt;li&gt;Close Terminal.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Step 3: Installing Cocoon&lt;/p&gt;
&lt;p&gt;                Derived from &lt;a href=&quot;http://cocoon.apache.org/2.2/1159_1_1.html&quot;&gt;Your first Cocoon application.&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Make a directory for your Cocoon install.
&lt;ul&gt;
&lt;li&gt;Using the GUI: go to Places &gt; Home Folder, then in that new window, File &gt; Create Folder.&lt;/li&gt;
&lt;li&gt;Or, open the Terminal:mkdir cocoon&lt;/li&gt;
&lt;li&gt;In the following text, I'm assuming you make a folder called &lt;em&gt;cocoon&lt;/em&gt; in your Home Folder; if you give it a different name or put it somewhere else, you'll have to change the commands accordingly.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Open the Terminal and change directory to your cocoon folder:cd cocoon
&lt;p&gt;mvn archetype:generate -DarchetypeCatalog=&lt;a href=&quot;http://cocoon.apache.org&quot;&gt;http://cocoon.apache.org&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;This begins the install process.
&lt;ul&gt;
&lt;li&gt;For archetype, choose 2&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Define value for groupId:&lt;/em&gt; - This should be a unique value. A classic value to use is, if you own the namespace myurl.com, you could type &lt;em&gt;com.myurl&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Define value for artifactId:&lt;/em&gt; cocoon&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Define value for version: 1.0-SNAPSHOT:&lt;/em&gt; 1.0.0&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Define value for package:&lt;/em&gt; - groupID.cocoon (i.e. &lt;em&gt;com.myurl.cocoon&lt;/em&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;After everything's done installing, you should see &lt;em&gt;[INFO] BUILD SUCCESSFUL&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Make sure you're in your cocoon directory in Terminal (does it say &lt;em&gt;~/cocoon$&lt;/em&gt; right before the cursor?), and type mvn jetty:run&lt;/li&gt;
&lt;li&gt;There'll be a lot more installing, but it should conclude with &lt;em&gt;[INFO] Started Jetty Server&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Open a browser and go to &lt;a href=&quot;http://localhost:8888/cocoonTest&quot; title=&quot;http://localhost:8888/cocoonTest&quot;&gt;http://localhost:8888/cocoonTest&lt;/a&gt; - you should see a message saying Apache Cocoon: Welcome&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;                Step 4: Cocoon Add-ons&lt;br /&gt;
There are a couple add-ons for Cocoon that are essentials-- like generators for HTML. If you want to use XSLT 2.0, Saoxn 9 is also critical. Posibly less important are the FOP processor (to generate PDFs from XSL-FO), Batik (for SVG) and Forms (to genrate forms). If you don't need to use XSLT 2.0, you can skip the first part of this section.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Installing Saxon 9 &lt;em&gt;- a good idea&lt;/em&gt;
&lt;ol&gt;
&lt;li&gt;Open your &lt;em&gt;cocoon&lt;/em&gt; directory and navigate to src/main/resources/META-INF/cocoon&lt;/li&gt;
&lt;li&gt;Create directory &lt;em&gt;avalon&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Create the following files in Text Editor (Applications &gt; Accessories &gt; Text Editor), and place them in the avalon directory:
&lt;ol&gt;
&lt;li&gt;File named &lt;strong&gt;cocoon-core-xslt-saxon.xconf&lt;/strong&gt;&lt;br /&gt;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;??&gt;&lt;br /&gt;
&lt;components&gt;&lt;br /&gt;
&lt;component role=&quot;org.apache.excalibur.xml.xslt.XSLTProcessor/saxon&quot;&gt;&lt;/component&gt;
class=&quot;org.apache.cocoon.components.xslt.TraxProcessor&quot;&gt;
&lt;p&gt;
&lt;parameter name=&quot;use-store&quot; value=&quot;true&quot;&gt;&lt;/parameter&gt;&lt;/p&gt;
&lt;parameter name=&quot;transformer-factory&quot; value=&quot;net.sf.saxon.TransformerFactoryImpl&quot;&gt;&lt;/parameter&gt;
&lt;br /&gt;
&lt;/components&gt;
&lt;/li&gt;
&lt;li&gt;File named &lt;strong&gt;sitemap-transformers-saxon-transformer.xconf&lt;/strong&gt;&lt;br /&gt;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;??&gt;
&lt;p&gt;&lt;components xmlns:map=&quot;http://apache.org/cocoon/sitemap/1.0&quot;&gt;&lt;br /&gt;
&lt;transformers&gt;&lt;br /&gt;
&lt;transformer name=&quot;xslt2&quot; src=&quot;org.apache.cocoon.transformation.TraxTransformer&quot;&gt;&lt;br /&gt;
&lt;xslt-processor-role&gt;saxon&lt;/xslt-processor-role&gt;&lt;br /&gt;
&lt;/transformer&gt;&lt;br /&gt;
&lt;/transformers&gt;&lt;br /&gt;
&lt;/components&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Download &lt;a href=&quot;http://prdownloads.sourceforge.net/saxon/saxonb9-1-0-5j.zip&quot; title=&quot;http://prdownloads.sourceforge.net/saxon/saxonb9-1-0-5j.zip&quot;&gt;http://prdownloads.sourceforge.net/saxon/saxonb9-1-0-5j.zip&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Extract the zip file to you Home folder; you can delete everything but &lt;em&gt;saxon9.jar&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Open a new Terminalcd cocoon
&lt;p&gt;mvn install:install-file -DgroupId=net.sf.saxon -DartifactId=saxon -Dversion=9.1.0.5 -Dpackaging=jar -Dfile=../saxon9.jar&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Go to &lt;em&gt;cocoon&lt;/em&gt; and open pom.xml&lt;/li&gt;
&lt;li&gt;At the bottom of &lt;dependencies&gt;, add:
&lt;p&gt;&lt;dependency&gt;&lt;br /&gt;
&lt;groupid&gt;net.sf.saxon&lt;/groupid&gt;&lt;br /&gt;
&lt;artifactid&gt;saxon&lt;/artifactid&gt;&lt;br /&gt;
&lt;version&gt;9.1.0.5&lt;/version&gt;&lt;br /&gt;
&lt;/dependency&gt;  &lt;/p&gt;
&lt;/dependencies&gt;&lt;/li&gt;
&lt;li&gt;If for some reason you only want Saxon 9 and not the ability to generate HTML, skip to the bottom of this section&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Installing HTML support
&lt;ul&gt;
&lt;li&gt;Still in pom.xml, at the bottom of &lt;dependencies&gt;, add:
&lt;p&gt;&lt;dependency&gt;&lt;br /&gt;
&lt;groupid&gt;org.apache.cocoon&lt;/groupid&gt;&lt;/dependency&gt;&lt;/p&gt;
&lt;p&gt;&lt;artifactid&gt;cocoon-html-impl&lt;/artifactid&gt;&lt;br /&gt;
&lt;version&gt;1.0.0&lt;/version&gt;&lt;br /&gt;
&lt;/p&gt;
&lt;/dependencies&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Installing FOP (for PDFs)
&lt;ul&gt;
&lt;li&gt;Still in pom.xml, at the bottom of &lt;dependencies&gt;, add:
&lt;p&gt;&lt;dependency&gt;&lt;br /&gt;
&lt;groupid&gt;org.apache.cocoon&lt;/groupid&gt;&lt;br /&gt;
&lt;artifactid&gt;cocoon-fop-impl&lt;/artifactid&gt;&lt;br /&gt;
&lt;version&gt;1.0.0&lt;/version&gt;&lt;br /&gt;
&lt;/dependency&gt;&lt;/p&gt;
&lt;/dependencies&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Installing Batik (SVG)
&lt;ul&gt;
&lt;li&gt;Still in pom.xml, at the bottom of &lt;dependencies&gt;, add:
&lt;p&gt;&lt;dependency&gt;&lt;br /&gt;
&lt;groupid&gt;org.apache.cocoon&lt;/groupid&gt;&lt;/dependency&gt;&lt;/p&gt;
&lt;p&gt;&lt;artifactid&gt;cocoon-batik-impl&lt;/artifactid&gt;&lt;br /&gt;
&lt;version&gt;1.0.0&lt;/version&gt;&lt;br /&gt;</p>
<p>&lt;/p&gt;
&lt;/dependencies&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Installing Forms
&lt;ul&gt;
&lt;li&gt;Still in pom.xml, at the bottom of &lt;dependencies&gt;, add:
&lt;p&gt;&lt;dependency&gt;&lt;br /&gt;
&lt;groupid&gt;org.apache.cocoon&lt;/groupid&gt;&lt;br /&gt;
&lt;artifactid&gt;cocoon-forms-impl&lt;/artifactid&gt;&lt;br /&gt;
&lt;version&gt;1.0.0-RC1&lt;/version&gt;&lt;/dependency&gt;&lt;/p&gt;
&lt;p&gt;
&lt;/p&gt;
&lt;/dependencies&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;There's &lt;a href=&quot;http://cocoon.apache.org/2.2/blocks/1204_1_1.html&quot;&gt;a list of all blocks&lt;/a&gt;, and the syntax for the dependency code is in there someplace.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Once you're done adding dependencies:&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;If you have a Terminal open with &lt;em&gt;[INFO] Started Jetty Server&lt;/em&gt;, close it.&lt;/li&gt;
&lt;li&gt;Open a new Terminalcd cocoon
&lt;p&gt;mvn compileAfter it's done...&lt;br /&gt;
mvn jetty:run
&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;        Redirecting the Sitemap&lt;br /&gt;
You can add your pipelines to the &lt;em&gt;sitemap.xmap&lt;/em&gt; in cocoon/src/main/resources/COB-INF, or (more conveniently) you can tell that base sitemap to look elsewhere for your files.&lt;br /&gt;
I'm assuming here that you have a folder called &lt;em&gt;myproject&lt;/em&gt; in your Home folder where you have all your files and your sitemap. Please change that, and your user name, accordingly.&lt;/p&gt;
&lt;p&gt;Included here is also the code to generate more useful error messages than a blank pages.&lt;br /&gt;
In &lt;em&gt;sitemap.xmap&lt;/em&gt; in cocoon/src/main/resources/COB-INF, at the bottom of the&lt;br /&gt;
&lt;pipelines section=&quot;&quot; add:=&quot;&quot;&gt;
&lt;p&gt;&lt;pipeline&gt;&lt;br /&gt;
&lt;handle-errors&gt;&lt;br /&gt;
&lt;generate type=&quot;exception&quot;&gt;&lt;/generate&gt; &lt;/handle-errors&gt;&lt;/pipeline&gt;&lt;/p&gt;
&lt;p&gt;&lt;serialize type=&quot;xml&quot;&gt;&lt;/serialize&gt;&lt;br /&gt;
&lt;br /&gt;
&lt;match pattern=&quot;myproject/<strong>&quot;&gt;&lt;br /&gt;
&lt;mount uri-prefix=&quot;myproject/&quot; check-reload=&quot;yes&quot;&gt;&lt;/mount&gt;
src=&quot;/home/YOUR_USER_NAME/myproject/sitemap.xmap&quot; reload-method=&quot;synchron&quot;/&gt;&lt;br /&gt;
&lt;/match&gt;&lt;br /&gt;
&lt;/p&gt;
&lt;p&gt;        In this case, your project will be found at &lt;a href=&quot;http://localhost:8888/cocoonTest/myproject/[things&quot;&gt;http://localhost:8888/cocoonTest/myproject/[things&lt;/a&gt; that match your pipelines]. But it doesn't have to match the folder name with your files. You can change the URL by chanigng &lt;match pattern=&quot;myproject/</strong>&quot;&gt; to &lt;match pattern=&quot;whatever_you_want/**&quot;&gt;&lt;/match&gt;&lt;/match&gt;&lt;/p&gt;
&lt;p&gt;        Hints and Tips&lt;br /&gt;
Every time you restart Ubuntu, you have to restart Cocoon:&lt;br /&gt;
cd cocoon&lt;/p&gt;
&lt;p&gt;mvn jetty:run&lt;br /&gt;
Be sure to keep that Terminal window open while you're working with Cocoon. You can always check if Cocoon is working by going to: &lt;a href=&quot;http://localhost:8888/cocoonTest&quot; title=&quot;http://localhost:8888/cocoonTest&quot;&gt;http://localhost:8888/cocoonTest&lt;/a&gt;.&lt;/p&gt;
&lt;/pipelines&gt;&lt;/p&gt;</p>

        
      </section>

      <footer class="page__meta">
        
        


        <!---->

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2010-04-14T00:00:00+00:00">April 14th 2010</time></p>

      </footer>

      

      
    </div>

   
  </article>

  
</div>
    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 Quinn Dombrowski. Powered by <a href="https://www.11ty.dev/" rel="nofollow">Eleventy</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a> (adapted as <a href="https://github.com/quinnanya/eleven-mistakes">Eleven Mistakes</a>).
<p>Also on <a rel="me" href="https://mstdn.social/@quinnanya">Mastodon</a></p>
</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>









  </body>
</html>
